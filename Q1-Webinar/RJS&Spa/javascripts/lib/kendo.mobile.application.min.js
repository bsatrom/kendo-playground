/*
* Kendo UI Complete v2013.1.307 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(e,n){return n()})(["./kendo.mobile.pane.min","./kendo.router.min"],function(){(function(e,n){function t(e){var n=[];return n.push("km-"+e.name),m&&n.push("km-on-"+m.name),n.push("km-"+e.name+e.majorVersion),n.push("km-"+e.majorVersion),n.push("km-m"+(e.minorVersion?e.minorVersion[0]:0)),e.appMode?n.push("km-app"):n.push("km-web"),n.join(" ")}function i(e){return m.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function o(e){return i(e)?h:u}function a(){e("meta[name=viewport]").remove(),y.append(v({height:i()?", height="+window.innerHeight+"px":l.mobileOS.flatVersion>=600&&700>l.mobileOS.flatVersion?", height="+window.innerWidth+"px":", height=device-height"}))}var r=window.kendo,s=r.mobile,l=r.support,d=s.ui.Pane,p="ios",m=l.mobileOS,c="blackberry"==m.device&&m.flatVersion>=600&&1e3>m.flatVersion&&m.appMode,u="km-vertical",h="km-horizontal",f={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"500",majorVersion:"5",minorVersion:"0.0",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,appMode:!1,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},v=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),b='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> ',w=v({height:""}),g=r.template('<link rel="apple-touch-icon'+(m.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),k=("iphone"==m.device||"ipod"==m.device)&&"mobilesafari"==m.browser,_=60,V=e(window),y=e("head"),C=e.proxy,M=r.Observable.extend({init:function(n,t){var i=this;s.application=i,i.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0},t),r.Observable.fn.init.call(i,i.options),e(function(){i.element=e(n?n:document.body),i._setupPlatform(),i._setupElementClass(),i._attachHideBarHandlers(),i.pane=new d(i.element,i.options),i._attachMeta(),i.options.updateDocumentTitle&&i._setupDocumentTitle(),i._startHistory(),i._preventDefaultScrolling()})},navigate:function(e,n){this.pane.navigate(e,n)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},captureTouchMove:function(e){"TEXTAREA"!==e.target.tagName&&e.preventDefault()},view:function(){return this.pane.view()},_preventDefaultScrolling:function(){l.kineticScrollNeeded&&e(document.documentElement).on("touchmove",e.proxy(this,"captureTouchMove"))},_setupPlatform:function(){var n,i=this,o=i.options.platform,a=m||f[p];o&&(a="string"==typeof o?f[o]:o),i.os=a,i.osCssClass=t(i.os),"wp"==a.name&&(n=C(i._setupWP8Theme,i),e(window).on("focusin",n),document.addEventListener("resume",n),i._setupWP8Theme())},_setupWP8Theme:function(){var n,t=this,i=e(t.element);t._bgColorDiv||(t._bgColorDiv=e("<div />").css({background:"Background",visibility:"hidden",position:"absolute",top:"-3333px"}).appendTo(document.body)),n=parseInt(t._bgColorDiv.css("background-color").split(",")[1],10),i.removeClass("km-wp-dark km-wp-light"),0===n?i.addClass("km-wp-dark"):i.addClass("km-wp-light"),i.parent().css("overflow","hidden")},_startHistory:function(){var e=this,n=e.options.initial,t=new r.Router({init:function(e){var i=e.url;"/"===i&&n&&(t.navigate(n,!0),e.preventDefault())},routeMissing:function(n){e.pane.navigate(n.url)}});e.pane.bind("navigate",function(e){t.navigate(e.url,!0)}),t.start(),e.router=t},_setupElementClass:function(){var e=this,n=e.element;n.parent().addClass("km-root km-"+(e.os.tablet?"tablet":"phone")),n.addClass(e.osCssClass+" "+o(n)),c&&a(),r.onResize(function(){n.removeClass("km-horizontal km-vertical").addClass(o(n)),c&&a()})},_attachMeta:function(){var e,n=this.options.icon;if(c||y.prepend(w),y.prepend(b),n){"string"==typeof n&&(n={"":n});for(e in n)y.prepend(g({icon:n[e],size:e}))}},_attachHideBarHandlers:function(){var e=this,n=C(e._hideBar,e);!l.mobileOS.appMode&&e.options.hideAddressBar&&(e._initialHeight={},k&&(V.on("load",n),r.onResize(n),e.element[0].addEventListener("touchstart",n,!0)))},_setupDocumentTitle:function(){var e=this,t=document.title;e.pane.bind("viewShow",function(e){var i=e.view.title;document.title=i!==n?i:t})},_hideBar:function(){var e,n=this,t=n.element,i=window.orientation+"",o=n._initialHeight;o[i]||(o[i]=V.height()),e=o[i]+_,e!=t.height()&&t.height(e),setTimeout(window.scrollTo,0,0,1)}});r.mobile.Application=M})(window.kendo.jQuery)});